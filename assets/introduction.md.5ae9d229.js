import{_ as n,o as s,c as a,a as t}from"./app.66459213.js";const h='{"title":"Introduction","description":"","frontmatter":{},"headers":[{"level":2,"title":"Why should I use React Mise?","slug":"why-should-i-use-react-mise"},{"level":2,"title":"Basic example","slug":"basic-example"},{"level":2,"title":"Why React Mise","slug":"why-react-mise"},{"level":2,"title":"A more realistic example","slug":"a-more-realistic-example"},{"level":2,"title":"Replace with Redux","slug":"replace-with-redux"},{"level":3,"title":"Comparison with Redux","slug":"comparison-with-redux"}],"relativePath":"introduction.md"}',e={},o=t(`<h1 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-hidden="true">#</a></h1><p>React Mise started as an experiment to design what a Store for React could look like with the Composition API. Replace Redux and React Context</p><h2 id="why-should-i-use-react-mise" tabindex="-1">Why should I use React Mise? <a class="header-anchor" href="#why-should-i-use-react-mise" aria-hidden="true">#</a></h2><p>React Mise is a store library for React, it allows you to share a state across components/pages. If you are familiar with the Composition API, you might be thinking you can already share a global state with <code>useReducer</code>. This is true for single page applications but look it&#39;s complicated compared to management if it is server side rendered. But even in small single page applications, you get a lot from using React Mise:</p><ul><li>Accurate target response</li><li>Hot module replacement <ul><li>Modify your stores without reloading your page</li><li>Keep any existing state while developing</li></ul></li><li>Plugins: extend React Mise features with plugins</li><li>Proper TypeScript support or <strong>autocompletion</strong> for JS users</li><li>Server Side Rendering Support</li></ul><h2 id="basic-example" tabindex="-1">Basic example <a class="header-anchor" href="#basic-example" aria-hidden="true">#</a></h2><p>This is what using react-mise looks like in terms of API (make sure to check the <a href="./getting-started.html">Getting Started</a> for complete instructions). You start by creating a store:</p><div class="language-ts"><pre><code><span class="token comment">// stores/counter.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-mise&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useCounterStore <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;counter&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// could also be defined as</span>
  <span class="token comment">// state: () =&gt; ({ count: 0 })</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>And then you <em>use</em> it in a component:</p><div class="language-ts"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useCounterStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;src/stores/counter&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>counter<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useCounterStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// with autocompletion \u2728</span>
  counter<span class="token punctuation">.</span>count<span class="token operator">++</span>
  <span class="token comment">// or using an action instead</span>
  counter<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="why-react-mise" tabindex="-1">Why <em>React Mise</em> <a class="header-anchor" href="#why-react-mise" aria-hidden="true">#</a></h2><p>Mise (<code>kanji: \u5E97</code>) pronounced mi&#39;se which means store in Japanese. combined <code>React Mise</code> means the store for React.</p><h2 id="a-more-realistic-example" tabindex="-1">A more realistic example <a class="header-anchor" href="#a-more-realistic-example" aria-hidden="true">#</a></h2><p>Here is a more complete example of the API you will be using with React Mise <strong>with types even in JavaScript</strong>. For some people, this might be enough to get started without reading further but we still recommend checking the rest of the documentation or even skipping this example and coming back once you have read about all of the <em>Core Concepts</em>.</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-mise&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> useTodos <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">&quot;todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">/** @type {{ text: string, id: number, isFinished: boolean }[]} */</span>
    <span class="token literal-property property">todos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">/** @type {&#39;all&#39; | &#39;finished&#39; | &#39;unfinished&#39;} */</span>
    <span class="token literal-property property">filter</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// type will be automatically inferred to number</span>
    <span class="token literal-property property">nextId</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">finishedTodos</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// autocompletion! \u2728</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>isFinished<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">unfinishedTodos</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>isFinished<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/**
     * @returns {{ text: string, id: number, isFinished: boolean }[]}
     */</span>
    <span class="token function">filteredTodos</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>filter <span class="token operator">===</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// call other getters with autocompletion \u2728</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>finishedTodos
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>filter <span class="token operator">===</span> <span class="token string">&quot;unfinished&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>unfinishedTodos
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>todos
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// any amount of arguments, return a promise or not</span>
    <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// you can directly mutate the state</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> text<span class="token punctuation">,</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nextId<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token literal-property property">isFinished</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="replace-with-redux" tabindex="-1">Replace with Redux <a class="header-anchor" href="#replace-with-redux" aria-hidden="true">#</a></h2><p>React Mise started when I tried to use Redux in my React project and failed due to the unclear APIs. I used to use <code>React</code> and it has <code>react-mise</code> status manager that is amazing. And then React Mise was created.</p><p>Compared to Redux, React Mise provides a simpler API with less ceremony, offers Composition-API-style APIs, and most importantly, has solid type inference support when used with TypeScript.</p><h3 id="comparison-with-redux" tabindex="-1">Comparison with Redux <a class="header-anchor" href="#comparison-with-redux" aria-hidden="true">#</a></h3><blockquote><p>Redux 3.x is Redux for React 2 while Redux 4.x is for React 3</p></blockquote><p>React Mise API is very different from Redux, namely:</p><ul><li><em>mutations</em> no longer exist. They were very often perceived as <strong><em>extremely</em> verbose</strong>. They initially brought devtools integration but that is no longer an issue.</li><li>No need to create custom complex wrappers to support TypeScript, everything is typed and the API is designed in a way to leverage TS type inference as much as possible.</li><li>No more magic strings to inject, import the functions, call them, enjoy autocompletion!</li><li>No need to dynamically add stores, they are all dynamic by default and you won&#39;t even notice. Note you can still manually use a store to register it whenever you want but because it is automatic you don&#39;t need to worry about it.</li><li>No more nested structuring of <em>modules</em>. You can still nest stores implicitly by importing and <em>using</em> a store inside another but React Mise offers a flat structuring by design while still enabling ways of cross composition among stores. <strong>You can even have circular dependencies of stores</strong>.</li><li>No <em>namespaced modules</em>. Given the flat architecture of stores, &quot;namespacing&quot; stores is inherent to how they are defined and you could say all stores are namespaced.</li></ul><p>For more detailed instructions on how to convert an existing Redux project to use React Mise, see the <a href="./cookbook/migration-redux.html">Migration from Redux Guide</a>.</p>`,23),p=[o];function c(i,r,l,u,k,d){return s(),a("div",null,p)}var y=n(e,[["render",c]]);export{h as __pageData,y as default};
